---
interface Props {
  currentPath?: string;
}

const { currentPath = "/" } = Astro.props as Props;

import { siteConfig } from "../config/site";

const links = [
  { href: "/", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/projects", label: "Projects" },
  { href: "/lab", label: "Lab" },
  { href: "/build", label: "Build" },
  { href: "/notes", label: "Notes" },
  { href: "/contact", label: "Contact" },
];

const isActive = (href: string) => {
  if (href === "/") return currentPath === "/";
  return currentPath.startsWith(href);
};
---

<header class="header">
  <div class="container header-inner">
    <a class="brand" href="/">
      <span>{siteConfig.brand}</span>
      <small>{siteConfig.location} Â· automation & systems</small>
    </a>
    <nav class="nav" aria-label="Primary">
      {links.map((link) => (
        <a href={link.href} aria-current={isActive(link.href) ? "page" : undefined}>
          {link.label}
        </a>
      ))}
    </nav>
  </div>
</header>
